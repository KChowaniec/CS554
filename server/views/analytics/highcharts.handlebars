<script src="https://fb.me/react-15.0.1.js"></script>
<script src="https://fb.me/react-dom-15.0.1.js"></script>
<script src="http://code.highcharts.com/highcharts.js"></script>

<div id="react-app"></div>
<script type="text/javascript">



var Chart = React.createClass({
        // When the DOM is ready, create the chart.
        componentDidMount: function () {
            // Extend Highcharts with modules
            if (this.props.modules) {
                this.props.modules.forEach(function (module) {
                    module(Highcharts);
                });
            }
            // Set container which the chart should render to.
            this.chart = new Highcharts[this.props.type || "Chart"](this.props.container, this.props.options);
        }
        , //Destroy chart before unmount.
        componentWillUnmount: function () {
            this.chart.destroy();
        }
        , //Create the div which the chart will be rendered to.
        render: function () {
            return React.createElement('div', {
                id: this.props.container
            });
        }
    })
    , element
    , element2;
// Create and render element
element = React.createElement(Chart, {
    container: 'chart'
    , options: {
        chart: {
					plotBackgroundColor: null,
					plotBorderWidth: null,
					plotShadow: false,
					type: 'pie'
				},
				title: {
					text: 'Users Reviews Count Breakdown'
				},
				tooltip: {
					pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
				},
				plotOptions: {
					pie: {
						allowPointSelect: true,
						cursor: 'pointer',
						dataLabels: {
							enabled: false
						},
						showInLegend: true
					}
				},
				series: [{data:[{{#each results}}
                                    {{#_id}}
                                        {name:"{{yearRange}}",
                                    {{/_id}}
                                    y:{{count}} },
                                {{/each}}
                                ]}]
    }
});
ReactDOM.render(element, document.getElementById('react-app'));
</script>

